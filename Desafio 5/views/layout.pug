html(lang="en")
    head 
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        link(rel="stylesheet" href="./styles.css")
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous")
        title Desafio Clase 5 con PUG
    body
       div(class="contenedor")
            if listProducts
                if products
                    div
                        h2="Vista de productos"
                        table(class="table text-center")
                            thead
                                tr
                                tr(class="table-dark")
                                th(scope="col" class="text-center align-middle") Id
                                th(scope="col" class="text-center align-middle") Nombre
                                th(scope="col" class="text-center align-middle") Precio
                                th(scope="col" class="text-center align-middle") Foto
                            tbody
                                each val in products
                                    tr(class="text-center align-middle")
                                        th(scope="row" class="text-center align-middle")=val.id
                                        td(class="text-center align-middle")=val.title
                                        td(class="text-center align-middle")=("$ "+val.price)
                                        td(class="text-center align-middle")
                                            img(src=val.thumbnail alt=val.title class="w-25")                                            
                else
                    div(class="noProductos")
                        h3 No se encontraron productos
                form(method="get" id="lista")
                    button( type="button" class="btn btn-primary" onclick="window.location.href='/'") Cargar productos        
            else
                h3 Complete los datos del producto a agregar
                form(action="/api/productos" method="post")
                    div(class="mb-3")
                        label(for="titulo" class="form-label") Nombre
                        input(type="text" class="form-control" id="titulo" name="titulo")
                    div(class="mb-3")
                        label(for="precio" class="form-label") Precio
                        input(type="number" class="form-control" id="precio" name="precio")
                    div(class="mb-3")
                        label(for="Foto" class="form-label") Foto Url
                        input(type="url" class="form-control" id="Foto" name="miniatura")
                        div(id="urlHelp" class="form-text") El vinculo debe tener este formato: https://cdn2.iconfinder.com/data/icons/flat-icons-19/512/Sclssors.png
                    br

                    button( type="submit" class="btn btn-success") Cargar
                
                br
                form(method="get" id="lista")
                    button( type="button" class="btn btn-danger" onclick="window.location.href='/api/productos'") Ver Listado 